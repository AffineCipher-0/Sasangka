/* --- MAIN LAYOUT STYLES --- */

#book-container { 
    position: relative; 
    width: 100%; 
    height: 100vh; 
    overflow: hidden; 
}

#cover-page {
    position: absolute; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%;
    z-index: 10; 
    transition: transform 0.7s ease-in-out; 
    transform: translateX(0);
}
#cover-page.cover-hidden { 
    transform: translateX(-100%); 
}

#content-pages {
    /* Dihapus: display: grid; grid-template-columns: 1fr 250px; */
    height: 100vh; 
    transition: transform 0.7s ease-in-out;
    position: absolute; 
    width: 100%; 
    top: 0; 
    left: 0;
    transform: translateX(100%);
}
#content-pages.content-visible { 
    transform: translateX(0); 
}

.page-content-wrapper { 
    overflow-y: auto; 
    position: relative; 
    width: 100%;
    height: 100%;
}

/* --- SIDEBAR STYLES (MODIFIED FOR DRAGGING) --- */
.sidebar {
    /* MODIFIKASI: Mengubah dari bagian grid menjadi elemen fixed */
    position: fixed;
    top: 5vh; /* Posisi awal */
    right: 2rem; /* Posisi awal */
    width: 280px; /* Lebar tetap */
    height: auto; /* Tinggi otomatis */
    max-height: 90vh; /* Batas tinggi */
    z-index: 1001; /* Di atas konten halaman */
    
    transition: all 0.5s ease-in-out;
    overflow-y: auto;
    background-color: var(--bg-parchment);
    color: var(--text-ink);
    border-radius: 8px; /* Sedikit lengkungan */
    box-shadow: 0 10px 30px rgba(0,0,0,0.3); /* Bayangan lebih kuat */
}

.sidebar.dragging {
    cursor: grabbing;
    user-select: none; /* Mencegah teks terseleksi saat di-drag */
    transition: none; /* MODIFIKASI: Matikan transisi saat di-drag agar responsif */
    opacity: 0.9;
    transform: scale(1.02);
}

.sidebar-drag-handle, #sidebar-header {
    cursor: grab;
    color: var(--border-gold);
    font-size: 1.2rem;
}

.sidebar .nav-link { 
    color: #5a5245; 
}
.sidebar .nav-link:hover:not(.active-page) { 
    color: var(--accent-teal); 
}
.sidebar .nav-link.active-page {
    color: var(--text-ink); 
    font-weight: 700;
}

/* Penyesuaian untuk mode minimized */
#content-pages.sidebar-minimized .sidebar { 
    width: 80px; /* Lebar saat diciutkan */
    padding-left: 1rem;
    padding-right: 1rem;
}
.sidebar .nav-text {
    transition: opacity 0.2s ease-in-out, max-width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    display: inline-block; vertical-align: middle; white-space: nowrap;
    overflow: hidden; max-width: 150px;
}
#content-pages.sidebar-minimized .sidebar .nav-text { opacity: 0; max-width: 0; pointer-events: none; }
#content-pages.sidebar-minimized .sidebar .flex.justify-between { justify-content: center; }
.sidebar .nav-link { display: flex; align-items: center; }
#content-pages.sidebar-minimized .sidebar .nav-link { 
    justify-content: center; 
}
#content-pages.sidebar-minimized .sidebar .nav-link i { margin-right: 0 !important; }
#content-pages.sidebar-minimized .sidebar #close-book-btn i { margin-right: 0; }